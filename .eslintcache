[{"/Users/ConnorMulholland_1/Development/code/Mod4/celebnb/celebnb-frontend/src/components/Header.js":"1","/Users/ConnorMulholland_1/Development/code/Mod4/celebnb/celebnb-frontend/src/components/BookingForm.js":"2","/Users/ConnorMulholland_1/Development/code/Mod4/celebnb/celebnb-frontend/src/components/MyMap.js":"3","/Users/ConnorMulholland_1/Development/code/Mod4/celebnb/celebnb-frontend/src/components/App.js":"4","/Users/ConnorMulholland_1/Development/code/Mod4/celebnb/celebnb-frontend/src/components/Home.js":"5","/Users/ConnorMulholland_1/Development/code/Mod4/celebnb/celebnb-frontend/src/components/ListingDetail.js":"6","/Users/ConnorMulholland_1/Development/code/Mod4/celebnb/celebnb-frontend/src/components/BookingList.js":"7","/Users/ConnorMulholland_1/Development/code/Mod4/celebnb/celebnb-frontend/src/components/ListingsContainer.js":"8","/Users/ConnorMulholland_1/Development/code/Mod4/celebnb/celebnb-frontend/src/components/ListingCard.js":"9","/Users/ConnorMulholland_1/Development/code/Mod4/celebnb/celebnb-frontend/src/components/Login.js":"10"},{"size":1089,"mtime":1611685871060,"results":"11","hashOfConfig":"12"},{"size":6184,"mtime":1611690399885,"results":"13","hashOfConfig":"12"},{"size":1122,"mtime":1611706190334,"results":"14","hashOfConfig":"12"},{"size":3710,"mtime":1611685566223,"results":"15","hashOfConfig":"12"},{"size":240,"mtime":1611684909789,"results":"16","hashOfConfig":"12"},{"size":2315,"mtime":1611690327572,"results":"17","hashOfConfig":"12"},{"size":608,"mtime":1611610514884,"results":"18","hashOfConfig":"12"},{"size":877,"mtime":1611684849126,"results":"19","hashOfConfig":"12"},{"size":1523,"mtime":1611684603791,"results":"20","hashOfConfig":"12"},{"size":536,"mtime":1611691121775,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1nho6nm",{"filePath":"24","messages":"25","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"26"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"29","messages":"30","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31","usedDeprecatedRules":"32"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"35","messages":"36","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"42","messages":"43","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},"/Users/ConnorMulholland_1/Development/code/Mod4/celebnb/celebnb-frontend/src/components/Header.js",[],"/Users/ConnorMulholland_1/Development/code/Mod4/celebnb/celebnb-frontend/src/components/BookingForm.js",["47"],"import React, { useState } from 'react'\nimport { Redirect, useHistory } from \"react-router-dom\";\n\nfunction BookingForm({ listing, currentUser, bookings, setBookings, setWallet, wallet }) {\n    const [checkInDate, setCheckInDate] = useState(\"\")\n    const [checkOutDate, setCheckOutDate] = useState(\"\")\n\n    const history = useHistory()\n    \n    const numberOfNightsBetweenDates = (startDate, endDate) => {\n        const start = new Date(startDate)\n        const end = new Date(endDate)\n        let dayCount = 0\n      \n        while (end > start) {\n          dayCount++\n          start.setDate(start.getDate() + 1)\n        }\n        // setNumberOfNights(dayCount)\n        return dayCount\n      }\n\n      const totalListingPriceForStay = listing.price * numberOfNightsBetweenDates(checkInDate, checkOutDate)\n    \n\n      const handleChange = (evt) => {\n        if (evt.target.name === \"check-in-date\") {\n            setCheckInDate(evt.target.value)\n            setFormData({...formData, check_in_date: evt.target.value})\n        } else if (evt.target.name === \"check-out-date\") {\n            setCheckOutDate(evt.target.value)\n\n            setFormData({\n                ...formData, \n                check_out_date: evt.target.value\n            })\n        }\n      }\n\n    //   const handleNightsChange = (evt) => {\n    //     setNumberOfNights(numberOfNightsBetweenDates(checkInDate, checkOutDate))\n    //     setFormData({...formData, numberOfNights: numberOfNightsBetweenDates(checkInDate, checkOutDate)})\n    //   }\n\n    //   const handlePriceChange = (evt) => {\n    //       setTotalPrice(totalListingPriceForStay)\n    //       setFormData({...formData, totalPrice: totalListingPriceForStay})\n    //   }\n\n      const [formData, setFormData] = useState({\n        check_in_date: \"\",\n        check_out_date: \"\",\n        number_of_nights: 0,\n        total_price: 0,\n        listing_id: listing.id,\n        user_id: currentUser\n    })\n\n    const handleSubmit = (evt) => {\n        evt.preventDefault()\n        if (wallet >= totalListingPriceForStay) {\n            fetch(`${process.env.REACT_APP_API_BASE_URL}/bookings/new`, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    ...formData,\n                    total_price: totalListingPriceForStay,\n                    number_of_nights: numberOfNightsBetweenDates(checkInDate, checkOutDate),\n                    listing_id: listing.id,\n                    user_id: currentUser.id\n                })\n            })\n            .then(resp => resp.json())\n            .then(bookingObj => {\n                setBookings([...bookings, bookingObj])\n                \n                    fetch(`${process.env.REACT_APP_API_BASE_URL}/users/${currentUser.id}`, {\n                        method: \"PATCH\",\n                        headers: {\n                            \"Content-Type\": \"application/json\"\n                        },\n                        body: JSON.stringify({\n                            money_in_wallet: wallet - totalListingPriceForStay\n                        })\n                    })\n                    .then(r => r.json())\n                    .then(updatedUserObj => setWallet(updatedUserObj.money_in_wallet))\n                    history.push(\"/bookings\")\n                })\n                } else {\n                    alert(\"You don't have enough to book this listing lol poor\")\n                }\n    }\n        \n\n\n      console.log(formData)\n    return (\n    <div class=\"booking-widget\">\n\n            <form  onSubmit={handleSubmit}>\n                <br />\n                <ul class='booking-widget__form'>\n                    <li>\n                        <label for='check-in'> Check in </label>\n                        <div id='check-in' class='form-field'>\n                            <input \n                            type=\"text\" \n                            name=\"check-in-date\" \n                            value={checkInDate} \n                            onChange={handleChange} \n                            placeholder=\"9 July, 2016\"\n                            />\n                        </div>\n                        \n                    </li>\n                    <li>\n                         <label for='check-in'>Check out</label>\n                         <div id='check-out' class='form-field'>\n                            <input \n                            type=\"text\" \n                            name=\"check-out-date\" \n                            value={checkOutDate} \n                            onChange={handleChange} \n                            />\n                        </div>\n                        \n                    </li>\n\n                    <li>\n                     <div class='form__dropdown'id=\"night\">\n                        <label for='childrenAmount'>Total Nights</label>\n                      <div class='form-field'> \n                            <input \n                            type=\"text\" \n                            name=\"nights\" \n                            value={numberOfNightsBetweenDates(checkInDate, checkOutDate)} \n                            // onChange={handleNightsChange} \n                            />\n                      </div>\n                    </div>\n                    </li>\n\n\n                    <li>\n                     <div class='form__dropdown' id=\"cost\">\n                        <label for='childrenAmount'>Total Cost</label>\n                        \n                      <div class='form-field'> \n                            <input \n                            type=\"text\" \n                            name=\"price\" \n                            value={totalListingPriceForStay} \n                            // onChange={handlePriceChange}\n                            />\n                      </div>\n                    </div>\n                    </li>\n                    <li>\n                        <input type=\"submit\" value=\"Submit\" id='bookingSubmit' class='form__submit'  />\n                    </li>\n                </ul>\n            </form>\n        </div>\n    \n    )\n}\n\n\nexport default BookingForm\n\n","/Users/ConnorMulholland_1/Development/code/Mod4/celebnb/celebnb-frontend/src/components/MyMap.js",[],"/Users/ConnorMulholland_1/Development/code/Mod4/celebnb/celebnb-frontend/src/components/App.js",["48","49"],"import React, { useState, useEffect } from \"react\";\nimport { Redirect, Route, Switch } from \"react-router-dom\";\nimport Header from \"./Header\";\nimport Home from './Home'\nimport ListingsContainer from './ListingsContainer'\nimport './App.css';\nimport ListingDetail from './ListingDetail'\nimport BookingForm from \"./BookingForm\";\nimport BookingList from \"./BookingList\";\nimport Login from \"./Login\"\n\nfunction App() {\n  const [currentUser, setCurrentUser] = useState(null);\n  const [search, setSearch] = useState(\"\")\n  const [listings, setListings] = useState([])\n  const [sortBy, setSortBy] = useState(\"All\")\n  const [bookings, setBookings] = useState([])\n  const [wallet, setWallet] = useState(null)\n\n  useEffect(() => {\n    fetch(`${process.env.REACT_APP_API_BASE_URL}/listings`)\n    .then(r => r.json())\n    .then(setListings)\n  }, [])\n\n  function handleLogin() {\n    fetch(`${process.env.REACT_APP_API_BASE_URL}/login`)\n      .then((r) => r.json())\n      .then(userObj => {\n        setCurrentUser(userObj)\n        setBookings(userObj.bookings)\n        setWallet(userObj.money_in_wallet)\n      });\n  }\n\n  function handleLogout() {\n    setCurrentUser(null);\n  }\n\n  function handleSearchChange(newSearch){\n    setSearch(newSearch)\n  }\n\n  function handleDeleteBooking(bookingToDelete) {\n    fetch(`${process.env.REACT_APP_API_BASE_URL}/bookings/${bookingToDelete.id}`, {\n        method: \"DELETE\"\n    })\n    .then(r => r.json())\n    .then(bookingObj => {\n      setBookings(bookings.filter((booking) => booking.id !== bookingToDelete.id))\n      fetch(`${process.env.REACT_APP_API_BASE_URL}/users/${currentUser.id}`, {\n        method: \"PATCH\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          money_in_wallet: wallet + bookingToDelete.total_price\n        })\n      })\n      .then(r => r.json())\n      .then(updatedUserObj => setWallet(updatedUserObj.money_in_wallet))\n    })\n}\n\n  const displayedListings = listings.filter(listing =>\n    listing.location.toLowerCase().includes(search.toLowerCase()))\n    .filter(listing => {\n      if (sortBy === \"All\") {\n        return listing\n      } else if (sortBy === \"Pool\") {\n        return listing.pool\n      } else if (sortBy === \"Hot Tub\") {\n        return listing.hot_tub\n      } else if (sortBy === \"Wait Staff\") {\n        return listing.wait_staff\n      }\n    })\n\n  return (\n    <div className=\"App\">\n      <Header \n        onLogin={handleLogin}\n        onLogout={handleLogout} \n        currentUser={currentUser}\n        wallet={wallet}\n        />\n\n      <Switch>\n        <Route exact path=\"/\">\n          <Home \n            listings={listings}\n          />\n        </Route>\n        <Route exact path=\"/listings/:id\">\n          <ListingDetail \n            currentUser={currentUser}\n            listings={listings}\n            setBookings={setBookings}\n            bookings={bookings}\n            wallet={wallet}\n            setWallet={setWallet}\n          />\n        </Route>\n        <Route path=\"/listings\">\n          <ListingsContainer \n            listings={displayedListings}\n            sortBy={sortBy}\n            setSortBy={setSortBy}\n            search={search} \n            handleSearchChange={handleSearchChange}\n          />\n        </Route>\n        <Route path=\"/bookings\">\n          <BookingList \n            bookings={bookings} \n            handleDeleteBooking={handleDeleteBooking}\n          />\n        </Route>\n        <Route path=\"/login\">\n          <Login \n            currentUser={currentUser} \n            onLogin={handleLogin} \n          />\n        </Route>\n        <Route path=\"*\">\n          <Redirect to=\"/\" />\n        </Route>\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n",["50","51"],"/Users/ConnorMulholland_1/Development/code/Mod4/celebnb/celebnb-frontend/src/components/Home.js",["52","53"],"/Users/ConnorMulholland_1/Development/code/Mod4/celebnb/celebnb-frontend/src/components/ListingDetail.js",["54","55"],"import React, { useEffect, useState } from 'react'\nimport { Route, Link, useParams } from \"react-router-dom\"\nimport BookingForm from './BookingForm';\n\n\nfunction ListingDetail({ listings, currentUser, setBookings, bookings, wallet, setWallet }) {\n\nconst [listing, setListing] = useState(null)\nconst [isLoaded, setIsLoaded] =useState(false);\n\nconst params = useParams()\n\nuseEffect(() => {\n    fetch(`${process.env.REACT_APP_API_BASE_URL}/listings/${params.id}`)\n      .then((r) => r.json())\n      .then((listing) => {\n        setListing(listing);\n        setIsLoaded(true);\n      });\n  }, [params.id]);\n\n  if (!isLoaded) return <h2>Loading...</h2>;\n\n  const { image, title, price, description, num_of_guests, size, owner, wait_staff, hot_tub, pool } = listing;\n        return (\n            <div>\n                <img src={image} alt={title} className=\"listing-detail-image\"></img>\n                <div className=\"listing-details-card\">\n                    <h2 className=\"listing-detail-title\">{title}</h2>\n                    <div className=\"listing-detail-description-container\">\n                        <p className=\"listing-detail-description\">{description}</p>\n                    </div>\n                    <p className=\"listing-detail-price\">${price} per night </p>\n                    <p className=\"listing-detail-guests\">{num_of_guests} number of guests</p>\n                    <p className=\"listing-detail-size\">{size} Square feet </p>\n                    <p className=\"listing-detail-owner\">{owner}</p>\n                    <p className=\"listing-detail-amenities\">{wait_staff ? \"Wait staff included\" : \"Wait staff is not included\"}</p>\n                    <p className=\"listing-detail-amenities\">{hot_tub ? \"Hot Tub included\" : \"Hot Tub not included\"}</p>\n                    <p className=\"listing-detail-amenities\">{pool ? \"Pool included\" : \"Pool not included\"}</p>\n                \n                </div>\n                    <BookingForm \n                        currentUser={currentUser} \n                        listing={listing} \n                        bookings={bookings} \n                        setBookings={setBookings}\n                        wallet={wallet}\n                        setWallet={setWallet}    \n                    />\n            </div>\n            )\n}\n\nexport default ListingDetail ","/Users/ConnorMulholland_1/Development/code/Mod4/celebnb/celebnb-frontend/src/components/BookingList.js",[],"/Users/ConnorMulholland_1/Development/code/Mod4/celebnb/celebnb-frontend/src/components/ListingsContainer.js",["56","57"],"/Users/ConnorMulholland_1/Development/code/Mod4/celebnb/celebnb-frontend/src/components/ListingCard.js",["58","59"],"/Users/ConnorMulholland_1/Development/code/Mod4/celebnb/celebnb-frontend/src/components/Login.js",[],["60","61"],{"ruleId":"62","severity":1,"message":"63","line":2,"column":10,"nodeType":"64","messageId":"65","endLine":2,"endColumn":18},{"ruleId":"62","severity":1,"message":"66","line":8,"column":8,"nodeType":"64","messageId":"65","endLine":8,"endColumn":19},{"ruleId":"67","severity":1,"message":"68","line":67,"column":21,"nodeType":"69","messageId":"70","endLine":67,"endColumn":23},{"ruleId":"71","replacedBy":"72"},{"ruleId":"73","replacedBy":"74"},{"ruleId":"62","severity":1,"message":"75","line":1,"column":17,"nodeType":"64","messageId":"65","endLine":1,"endColumn":25},{"ruleId":"62","severity":1,"message":"76","line":2,"column":8,"nodeType":"64","messageId":"65","endLine":2,"endColumn":13},{"ruleId":"62","severity":1,"message":"77","line":2,"column":10,"nodeType":"64","messageId":"65","endLine":2,"endColumn":15},{"ruleId":"62","severity":1,"message":"78","line":2,"column":17,"nodeType":"64","messageId":"65","endLine":2,"endColumn":21},{"ruleId":"62","severity":1,"message":"75","line":1,"column":17,"nodeType":"64","messageId":"65","endLine":1,"endColumn":25},{"ruleId":"62","severity":1,"message":"79","line":8,"column":11,"nodeType":"64","messageId":"65","endLine":8,"endColumn":23},{"ruleId":"62","severity":1,"message":"80","line":2,"column":10,"nodeType":"64","messageId":"65","endLine":2,"endColumn":17},{"ruleId":"62","severity":1,"message":"81","line":2,"column":25,"nodeType":"64","messageId":"65","endLine":2,"endColumn":34},{"ruleId":"71","replacedBy":"82"},{"ruleId":"73","replacedBy":"83"},"no-unused-vars","'Redirect' is defined but never used.","Identifier","unusedVar","'BookingForm' is defined but never used.","array-callback-return","Array.prototype.filter() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd","no-native-reassign",["84"],"no-negated-in-lhs",["85"],"'useState' is defined but never used.","'MyMap' is defined but never used.","'Route' is defined but never used.","'Link' is defined but never used.","'listingItems' is assigned a value but never used.","'NavLink' is defined but never used.","'useParams' is defined but never used.",["84"],["85"],"no-global-assign","no-unsafe-negation"]