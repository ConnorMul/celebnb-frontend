[{"/Users/DavidMedina/Development/Flatiron/code/phase4project/celebnb-frontend/src/index.js":"1","/Users/DavidMedina/Development/Flatiron/code/phase4project/celebnb-frontend/src/components/Home.js":"2","/Users/DavidMedina/Development/Flatiron/code/phase4project/celebnb-frontend/src/components/Login.js":"3","/Users/DavidMedina/Development/Flatiron/code/phase4project/celebnb-frontend/src/components/BookingList.js":"4","/Users/DavidMedina/Development/Flatiron/code/phase4project/celebnb-frontend/src/components/Search.js":"5","/Users/DavidMedina/Development/Flatiron/code/phase4project/celebnb-frontend/src/components/FilterSort.js":"6","/Users/DavidMedina/Development/Flatiron/code/phase4project/celebnb-frontend/src/components/ListingCard.js":"7","/Users/DavidMedina/Development/Flatiron/code/phase4project/celebnb-frontend/src/components/BookingForm.js":"8","/Users/DavidMedina/Development/Flatiron/code/phase4project/celebnb-frontend/src/components/ListingDetail.js":"9"},{"size":598,"mtime":1611691888000,"results":"10","hashOfConfig":"11"},{"size":240,"mtime":1611691888000,"results":"12","hashOfConfig":"11"},{"size":536,"mtime":1611691888000,"results":"13","hashOfConfig":"11"},{"size":608,"mtime":1611691888000,"results":"14","hashOfConfig":"11"},{"size":377,"mtime":1611691888000,"results":"15","hashOfConfig":"11"},{"size":523,"mtime":1611691888000,"results":"16","hashOfConfig":"11"},{"size":1599,"mtime":1611705284000,"results":"17","hashOfConfig":"11"},{"size":6315,"mtime":1611693477000,"results":"18","hashOfConfig":"11"},{"size":2627,"mtime":1611705029000,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"2h7vbc",{"filePath":"22","messages":"23","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"30","messages":"31","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"32","messages":"33","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"34","messages":"35","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"36"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39"},"/Users/DavidMedina/Development/Flatiron/code/phase4project/celebnb-frontend/src/index.js",[],"/Users/DavidMedina/Development/Flatiron/code/phase4project/celebnb-frontend/src/components/Home.js",["40","41"],"/Users/DavidMedina/Development/Flatiron/code/phase4project/celebnb-frontend/src/components/Login.js",[],"/Users/DavidMedina/Development/Flatiron/code/phase4project/celebnb-frontend/src/components/BookingList.js",[],"/Users/DavidMedina/Development/Flatiron/code/phase4project/celebnb-frontend/src/components/Search.js",[],"/Users/DavidMedina/Development/Flatiron/code/phase4project/celebnb-frontend/src/components/FilterSort.js",["42"],"/Users/DavidMedina/Development/Flatiron/code/phase4project/celebnb-frontend/src/components/ListingCard.js",["43","44"],"/Users/DavidMedina/Development/Flatiron/code/phase4project/celebnb-frontend/src/components/BookingForm.js",["45"],"import React, { useState } from 'react'\nimport { Redirect, useHistory } from \"react-router-dom\";\n\nfunction BookingForm({ listing, currentUser, bookings, setBookings, setWallet, wallet }) {\n    const [checkInDate, setCheckInDate] = useState(\"\")\n    const [checkOutDate, setCheckOutDate] = useState(\"\")\n\n    const history = useHistory()\n    \n    const numberOfNightsBetweenDates = (startDate, endDate) => {\n        const start = new Date(startDate)\n        const end = new Date(endDate)\n        let dayCount = 0\n      \n        while (end > start) {\n          dayCount++\n          start.setDate(start.getDate() + 1)\n        }\n        // setNumberOfNights(dayCount)\n        return dayCount\n      }\n\n      const totalListingPriceForStay = listing.price * numberOfNightsBetweenDates(checkInDate, checkOutDate)\n    \n\n      const handleChange = (evt) => {\n        if (evt.target.name === \"check-in-date\") {\n            setCheckInDate(evt.target.value)\n            setFormData({...formData, check_in_date: evt.target.value})\n        } else if (evt.target.name === \"check-out-date\") {\n            setCheckOutDate(evt.target.value)\n\n            setFormData({\n                ...formData, \n                check_out_date: evt.target.value\n            })\n        }\n      }\n\n    //   const handleNightsChange = (evt) => {\n    //     setNumberOfNights(numberOfNightsBetweenDates(checkInDate, checkOutDate))\n    //     setFormData({...formData, numberOfNights: numberOfNightsBetweenDates(checkInDate, checkOutDate)})\n    //   }\n\n    //   const handlePriceChange = (evt) => {\n    //       setTotalPrice(totalListingPriceForStay)\n    //       setFormData({...formData, totalPrice: totalListingPriceForStay})\n    //   }\n\n      const [formData, setFormData] = useState({\n        check_in_date: \"\",\n        check_out_date: \"\",\n        number_of_nights: 0,\n        total_price: 0,\n        listing_id: listing.id,\n        user_id: currentUser\n    })\n\n    const handleSubmit = (evt) => {\n        evt.preventDefault()\n        if (currentUser && wallet >= totalListingPriceForStay) {\n            fetch(`${process.env.REACT_APP_API_BASE_URL}/bookings/new`, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    ...formData,\n                    total_price: totalListingPriceForStay,\n                    number_of_nights: numberOfNightsBetweenDates(checkInDate, checkOutDate),\n                    listing_id: listing.id,\n                    user_id: currentUser.id\n                })\n            })\n            .then(resp => resp.json())\n            .then(bookingObj => {\n                setBookings([...bookings, bookingObj])\n                \n                    fetch(`${process.env.REACT_APP_API_BASE_URL}/users/${currentUser.id}`, {\n                        method: \"PATCH\",\n                        headers: {\n                            \"Content-Type\": \"application/json\"\n                        },\n                        body: JSON.stringify({\n                            money_in_wallet: wallet - totalListingPriceForStay\n                        })\n                    })\n                    .then(r => r.json())\n                    .then(updatedUserObj => setWallet(updatedUserObj.money_in_wallet))\n                    history.push(\"/bookings\")\n                })\n                } else if (currentUser === null) {\n                   alert(\"You must be logged in to book a trip\")\n                } else {\n                    alert(\"You don't have enough to book this listing lol poor\")\n                }\n    }\n        \n\n\n      console.log(formData)\n    return (\n    <div class=\"booking-widget\">\n\n            <form  onSubmit={handleSubmit}>\n                <br />\n                <ul class='booking-widget__form'>\n                    <li>\n                        <label for='check-in'> Check in </label>\n                        <div id='check-in' class='form-field'>\n                            <input \n                            type=\"text\" \n                            name=\"check-in-date\" \n                            value={checkInDate} \n                            onChange={handleChange} \n                            placeholder=\"9 July, 2016\"\n                            />\n                        </div>\n                        \n                    </li>\n                    <li>\n                         <label for='check-in'>Check out</label>\n                         <div id='check-out' class='form-field'>\n                            <input \n                            type=\"text\" \n                            name=\"check-out-date\" \n                            value={checkOutDate} \n                            onChange={handleChange} \n                            />\n                        </div>\n                        \n                    </li>\n\n                    <li>\n                     <div class='form__dropdown'id=\"night\">\n                        <label for='childrenAmount'>Total Nights</label>\n                      <div class='form-field'> \n                            <input \n                            type=\"text\" \n                            name=\"nights\" \n                            value={numberOfNightsBetweenDates(checkInDate, checkOutDate)} \n                            // onChange={handleNightsChange} \n                            />\n                      </div>\n                    </div>\n                    </li>\n\n\n                    <li>\n                     <div class='form__dropdown' id=\"cost\">\n                        <label for='childrenAmount'>Total Cost</label>\n                        \n                      <div class='form-field'> \n                            <input \n                            type=\"text\" \n                            name=\"price\" \n                            value={totalListingPriceForStay} \n                            // onChange={handlePriceChange}\n                            />\n                      </div>\n                    </div>\n                    </li>\n                    <li>\n                        <input type=\"submit\" value=\"Submit\" id='bookingSubmit' class='form__submit'  />\n                    </li>\n                </ul>\n            </form>\n        </div>\n    \n    )\n}\n\n\nexport default BookingForm\n\n","/Users/DavidMedina/Development/Flatiron/code/phase4project/celebnb-frontend/src/components/ListingDetail.js",["46","47"],"import React, { useEffect, useState } from 'react'\nimport { Route, Link, useParams } from \"react-router-dom\"\nimport BookingForm from './BookingForm';\n\n\nfunction ListingDetail({ listings, currentUser, setBookings, bookings, wallet, setWallet }) {\n\nconst [listing, setListing] = useState(null)\nconst [isLoaded, setIsLoaded] =useState(false);\n\nconst params = useParams()\n\nuseEffect(() => {\n    fetch(`${process.env.REACT_APP_API_BASE_URL}/listings/${params.id}`)\n      .then((r) => r.json())\n      .then((listing) => {\n        setListing(listing);\n        setIsLoaded(true);\n      });\n  }, [params.id]);\n\n  if (!isLoaded) return <h2>Loading...</h2>;\n\n  const { image, title, price, description, num_of_guests, size, owner, wait_staff, hot_tub, pool } = listing;\n        return (\n        \n           \n            \n    \n            <div className=\"listing-details\">\n            <img src={image} alt={title} className=\"listing-detail-image\"></img>\n    \n                 <BookingForm \n                        currentUser={currentUser} \n                        listing={listing} \n                        bookings={bookings} \n                        setBookings={setBookings}\n                        wallet={wallet}\n                        setWallet={setWallet}    \n                    />\n        \n                <div className=\"listing-details-card\">\n                    <h2 className=\"listing-detail-title\">{title}</h2>\n                    <p className=\"listing-detail-description\">{description}</p>\n                    <p className=\"listing-detail-price\">${price} per night </p>\n                    <p className=\"listing-detail-guests\">{num_of_guests} number of guests</p>\n                    <p className=\"listing-detail-size\">{size} Square feet </p>\n                    <p className=\"listing-detail-owner\">{owner}</p>\n                    <p className=\"listing-detail-amenities\">{wait_staff ? \"Wait staff included\" : \"Wait staff is not included\"}</p>\n                    <p className=\"listing-detail-amenities\">{hot_tub ? \"Hot Tub included\" : \"Hot Tub not included\"}</p>\n                    <p className=\"listing-detail-amenities\">{pool ? \"Pool included\" : \"Pool not included\"}</p>\n                \n                </div>\n                    {/* <BookingForm \n                        currentUser={currentUser} \n                        listing={listing} \n                        bookings={bookings} \n                        setBookings={setBookings}\n                        wallet={wallet}\n                        setWallet={setWallet}    \n                    /> */}\n            </div>\n            )\n}\n\nexport default ListingDetail ",{"ruleId":"48","severity":1,"message":"49","line":1,"column":17,"nodeType":"50","messageId":"51","endLine":1,"endColumn":25},{"ruleId":"48","severity":1,"message":"52","line":2,"column":8,"nodeType":"50","messageId":"51","endLine":2,"endColumn":13},{"ruleId":"48","severity":1,"message":"49","line":1,"column":17,"nodeType":"50","messageId":"51","endLine":1,"endColumn":25},{"ruleId":"48","severity":1,"message":"53","line":2,"column":10,"nodeType":"50","messageId":"51","endLine":2,"endColumn":17},{"ruleId":"48","severity":1,"message":"54","line":2,"column":25,"nodeType":"50","messageId":"51","endLine":2,"endColumn":34},{"ruleId":"48","severity":1,"message":"55","line":2,"column":10,"nodeType":"50","messageId":"51","endLine":2,"endColumn":18},{"ruleId":"48","severity":1,"message":"56","line":2,"column":10,"nodeType":"50","messageId":"51","endLine":2,"endColumn":15},{"ruleId":"48","severity":1,"message":"57","line":2,"column":17,"nodeType":"50","messageId":"51","endLine":2,"endColumn":21},"no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","'MyMap' is defined but never used.","'NavLink' is defined but never used.","'useParams' is defined but never used.","'Redirect' is defined but never used.","'Route' is defined but never used.","'Link' is defined but never used."]